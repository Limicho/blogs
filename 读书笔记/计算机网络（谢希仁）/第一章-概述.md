#1.1计算机网络在信息时代中的作用

1、以网络为核心的信息时代的特征是：数字化、网络化、信息化。

2、三网是：电信网络、有线电视网络、以因特网（Internet）为代表的计算机网络/互联网/互连网（internet）。

3、计算机网络的功能：连通性（connectivity）、共享。

#1.2因特网概述
##1.2.1网络的网络

1、网络（network）由若干结点（node）和连接这些结点的链路（link）组成。结点可以是计算机/主机（host）、集线器、交换机或路由器等。

2、网络和网络通过路由器互连起来，构成互联网/互连网。

3、因特网是世界最大的、开放的、由众多网络相互连接而成的特定的计算机网络/互联网/互连网，它采用TCP/IP协议族作为通信的规则，其前身是美国的ARPANET。

##1.2.2因特网发展的三个阶段

1、第一阶段，单个网络ARPANET向互联网发展的过程。1969年国防部创建第一个单个分组交换网ARPANET，所有要连接在ARPANET上的主机都直接与就近的结点交换机相连。70年代中期，多种网络互连，因特网的雏形。1983年，TCP/IP协议成为ARPANET上的标准协议，使得所有使用TCP/IP一些的计算机都能利用互连网相互通信，是因特网的诞生时间。1990年，ARPANET关闭。

2、第二阶段，三级结构的因特网。1985年，NSF围绕六个大型计算机中心建设计算机网络，国家科学基金网NSFNET。它是一个三级计算机网络，分为主干网、地区网、校园网/企业网，成为因特网主要组成部分。1991年，美国政府将因特网的主干网交给私人公司经营，并开始对接入因特网的单位收费。

3、第三阶段，多层次ISP结构的因特网。

1993年，NSFNET逐渐被若干个商用的因特网主干网替代，出现了因特网服务提供者/商ISP（Internet Service Provider）。ISP拥有从因特网管理机构申请到的多个IP地址，同时拥有通信线路以及路由器等联网设备，因此任何机构和个人只要向ISP交纳规定的费用，就可以从ISP得到所需的IP地址，并通过该ISP接入到因特网。现在的因特网已不是由某个组织所拥有而是全世界无数大大小小的ISP所共同拥有的。

根据提供服务的覆盖面积大小，以及所拥有的IP地址数目的不同，ISP也分为不同的层次。tier-1 ISP的服务面积最大，一般能够覆盖国家范围，而且拥有高速主干网。tier-2 ISP和一些大公司是tier-1 ISP的用户。tier-3/本地 ISP是tier-2 ISP的用户，只拥有本地范围的网络，一般的校园网或企业网，以及拨号上网的用户，都是tier-3 ISP的用户。

为了使不同层次的ISP经验的网络都互通，1994年开始创建了四个网络接入点NAP（Network Acces Point）/对等点（peering point），分别由四个电信公司经营，之后又陆续增加。使用例如ATM交换技术在NAP中安装有性能很好的交换设施，向ISP提供交换设施，来交换因特网上流量，接入到NAP的设备都是平等的不存在从属关系。有些比较大的tier-1 ISP绕过NAP而直接通过高速通信线路和其他的tier-1 ISP交换大量的数据，这样可以使得tier-1 ISP之间的通信更加快捷。因特网逐渐演变成基于ISP和NAP的多层次结构网络，相隔较远的两个主机的铜须可能需要经过多个ISP。

一旦用户接入到因特网，只要购买如调制解调器或者路由器这样的设备，就能成为一个ISP，因为一个ISP可以很方便地在因特网拓扑上增添新的层次和分支。20世纪90年代，CERN的万维网WWW（World Wide Web）被广泛使用在因特网上，因特网得以迅猛发展。1996年，启动下一代因特网计划，NGI计划（Next Generation Internet Initiative）。

##1.2.3因特网的标准化工作

1、1992年，因特网不再归美国政府管辖，成立了国际性组织因特网协会ISOC（Internet Society），IOSC下面有技术组织因特网体系结构委员会IAB（Internet Architecture Board），负责管理因特网有关协议的开发。IAB下有两个工程部，因特网工程部IETF（Internet Engineering Task Force）和因特网研究部IRTF（Internet Research Task Force）。每个人都可以对RFC（Request For Comments）文档发表意见和建议。指定因特网正式标准经过的四个阶段，因特网草案（Internet Draft）有效期六个月，建议标准（Proposed Standard）成为RFC文档，草案标准（Draft Standard），因特网标准（Internet Standard）。

##1.3因特网的组成

1、边缘部分由所有连接在因特网的主机组成，是用户直接使用的，用来进行通信和资源共享。
2、核心部分由大量网络和连接这些网络的路由器组成，为边缘部分提供连通性和交换服务。

###1.3.1因特网的边缘部分

1、计算机之间的通信，就是主机A的某个进程和主机B上的另一个进程进行通信，边缘部分的主机称为端系统（end system），在网络边缘的端系统中运行的程序之间的通信方式分为客户服务器方式（C/S）和对等方式（P2P）。

2、客户（client）和服务器（server）都是指通信中所涉及的两个应用进程，客户是服务请求方，服务器是服务提供方。客户程序必须知道服务器程序的地址，被用户调用后运行，在通信时主动向远地服务器发起通信/请求服务；不需要特殊硬件和复杂的操作系统。服务器程序，专门提供某种服务，可以同时处理多个远地或者本地客户的请求，启动后自动调用并且一直不间断地运行着，被动地等待并接受来自各地客户程序的通信请求，不知道客户程序的地址；需要强大硬件和高级操作系统支持。客户和服务器的通信关系建立后，通信可以是双向的，客户和服务器都可以发送和接收数据。客户端和服务器端是软件（client），客户机和服务器机是硬件（server）。

3、对等连接（peer-to-peer）/P2P文件共享是指两个主机在通信时不区分服务提供方和请求方，只要两个主机都运行了对等连接软件，就可以进行平等的对等连接通信，这时双方可以下载对方硬盘中的共享文档。P2P软件是采用P2P原理实现高速下载的软件，例如最常用的15款P2P软件的有：1、Bitcomet  2、比特精灵 3、μTorrent  4、eMule官方版 5、eMule VeryCD版 6、PPLive 7、PPStream 8、QQ直播 9、TOM-Skype 10、迅雷 11、POCO 12、酷狗(KuGoo) 13、PP点点通 14、百度下吧  15、百宝。

###1.3.2因特网的核心部分

1、核心部分要向边缘部分的大量主机提供连通性，使边缘部分中的任何一个主机都能够向其他主机通信，在核心部分起特殊作用的是一种专用计算机路由器。路由器是实现分组交换（patch switching）的关键构件，其任务是转发收到的分组，这是网络核心部分最重要的功能。

2、从通信资源的分配角度来看，交换（switching）就是按照某种方式动态地分配传输线路的资源。

3、电路交换（circuit switching）建立连接/占用通信资源，通话/一直占用通信资源，释放连接/归还通信资源。拨号建立连接，当拨号信令通过许多交换机到达被叫用户所连接的交换机时，该交换机就向被叫用户的电话机振铃，在被叫用户摘机且摘机信令传送回到主叫用户所连接的交换机后，呼叫即完成。这时，主叫端到被叫端建立了一条物理通路的连接，也就是占用了双方通话时所需的通信资源，这些资源在双方通信时不会被其他用户占用。通话完毕挂机后，挂机信令告诉这些交换机，使交换机释放刚才使用的这条物理通路，也就是归还刚才占用的通信资源。

4、分组交换，采用存储转发技术。报文（message）是要发送的整块数据，在发送报文之前，先把较长的报文划分为一个个更小的等长数据段。分组是在因特网中传送的数据单元，在每一个数据段前面加上一些用于在因特网中独立地选择传输路径的必要控制信息例如目的地址和源地址组成的首部/包头（header）后，就构成了一个分组/包（packet）。

5、在因特网核心部分的路由器之间一般都是用高速链路相连接，而在网络边缘的主机接入到核心部分则通常以相对较低速率的链路相连接。

6、主机和路由器都是计算机，主机是为用户进行信息处理的，并且可以和其他主机通过网络交换信息，路由器是用来转发分组的，也就是分组交换的。路由器收到一个分组，先暂时存储下来，再检查首部，查找转发表，按照首部中的目的地址，找到合适的接口转发出去，把分组交给下一个路由器，最终交付到目的主机。各路由器之间必须经常交换彼此的路由信息，以便创建和维持在路由器中的转发表，使得转发表能够在整个网络拓扑发生变化时及时更新。路由器暂存的是一个个短分组，而不是整个长报文，短分组是暂存在路由器的内存中，而不是存储在磁盘中，保证了较高的交换速率。分组交换在传送数据之前不必先占用一条端到端的通信资源，分组在哪段链路上传送才占用哪段链路的通信资源。分组到达一个路由器后，先暂存下来，查找转发表，然后从另一条合适的链路转发出去。分组在传输时就这样一段段地断续占用通信资源，而且省去了建立连接和释放连接的开销，因而数据的传输效率更高。因特网的核心部分常采用网状拓扑结构，当发生网络拥塞、网络中的某些结点或链路突然故障时，在各路由器中运行的路由选择协议能够自动找到其他路径转发分组，提高了数据传输的可靠性，而不会引起通信中断或全网瘫痪。采用存储转发的分组交换，实质上是采用了在数据通信的过程中断续或动态分配传输带宽的策略。

7、分组交换的有点。
高效，在分组传输的过程中动态分配传输宽带，对通信链路是逐段占用。
灵活，为每一个分组独立地选择转发路由。
迅速，以分组为单位，可以不先建立连接就能向其他主机发送分组。
可靠，保证可靠性的网络协议，分布式多路由的分组交换网，使网络有很好的生存性。

8、分组交换的问题：
分组在各路由器存储转发时需要排队，会造成一定的时延。
分组交换不像电路交换那样通过建立连接来保证通信时所需的各种资源，因而无法确保通信时端到端所需的宽带。
各分组必须携带的控制信息造成了一定的开销（overhead）。

9、电报通信采用了基于存储转发原理的报文交换（message switching）。

10、电路交换，整个报文的比特流连续地从源点知道终点，好像在一个管道中传送。
报文交换，整个报文先传送到相邻结点，全部存储下来后查找转发表，转发到下一个结点。
分组交换，单个分组传送到相邻结点，存储下来后查找转发表，转发到下一个结点。

##1.4计算机网络在我国的发展

略

##1.5计算机网络的类别

###1.5.1计算机网络的定义

1、计算机网络是一些互相连接的、自治的计算机的集合。

###1.5.1不同类别的网络

1、不同作用范围的网络。
广域网WAN（wide area network）/远程网（long haul network），是因特网的核心部分，其任务是通过长距离运送主机所发送的数据。连接广域网各结点交换机的链路一般都是高速链路，具有较大的通信容量。

城域网MAN（metropolitan area network），采用的是以太网技术。

局域网LAN（local area network）一般是用微型计算机或者工作站通过高速通信线路相连，企业网/校园网。

个人区域网PAN（personal area network）/无线个人区域网（wireless PAN），把个人电子设备用无线技术连接起来的网络。

2、不同使用者的网络。
公用网/公众网（public network），专用网（private network）。

3、用来把用户接入到因特网的网络，接入网AN（access network），本地接入网/居民接入网。

##1.6计算机网络的性能

###1.6.1计算机网络的性能指标

1、速率。
比特（bit）是一个二进制数字（binary digit），是计算机中数据量的单位，也是信息论中使用的信息量的单位。
速率/数据率（data rate）/比特率（bit rate）/额定速率/标称速率是连接在计算机网络上的主机在数字信道上传送数据的速率。（b/s）（bit/s）（bps）（bit peer second）（kb/s）（兆Mb/s）（吉Gb/s）（太Tb/s）

2、带宽（bandwidth）。
带宽本来是指某个信号具有的频带宽度。（Hz赫兹）
在计算机网络中，带宽用来表示网络的通信线路所能传送数据的能力，单位时间内从网络中的某一点到另一点所能通过的最高数据率。（比特率）

3、吞吐量（throughput）。
吞吐量表示在单位时间内通过某个网络/信道/接口的数据量。（比特率）

4、时延/迟延/延迟（delay/latency）
数据从网络/链路的一端传送到另一端所需的时间。

发送时延/传输时延（transmission delay）是主机或路由器发送数据帧所需要的时间。
=数据帧长度（b）/信号带宽（b/s）

传播时延（propagation delay）是电磁波在信道中传播一定的距离需要花费的时间。
=信道长度（m）/电磁波在信道上的传播速率（m/s）

处理时延，主机或路由器在收到分组时要花费一定的时间进行处理，分析分组的首部、从分组中提取数据部分、进行差错检验、查找适当的路由等。

排队时延，分组在经过网络传输时，要进过许多的路由器，但在进入路由器后要现在输入队列中排队等待处理。在路由器确定了转发接口后，还要在输出队列中排队等待转发。排队时延的长短往往取决于网络当时的通信量。当网络的通信量很大时会发生队列溢出，使分组丢失，这相当于排队时延为无穷大。

对于高速网络链路，我们提高的仅仅是数据的发送速率，而不是比特在链路上的传播速，提高数据的发送速率只是减小了数据的发送时延。

5、传播时延带宽积 = 传播时延 * 带宽。（bit）

6、往返时间RTT（Round-Trip Time），从发送方发送数据开始，到发送方收到来自己接收方的确认总共经历的时间。

7、利用率，信道利用率和网络利用率。网络当前的时延=网络空闲时的时延D0/（1-利用率U）。

###1.6.1计算机网络的非性能特征
计算机网络的非性能特征，费用、质量、标准化、可靠性、可扩展性、可升级性、易于管理和维护。

##1.7计算机网络的体系结构
###1.7.1计算机网络体系结构的形成

1、1974年，美国IBM宣布系统网络体系结构SNA（system network architecture）。

2、1977年，国际化标准组织ISO提出开放系统互连基本参考模型OSI/RM（open system interconnection reference model）。

3、得到最广泛应用的不是法律上的国际标准OSI，而是事实上的国际标准，非国际标准TCP/IP。

###1.7.2协议与划分层次

1、网络协议（network protocol）是为进行网络中的数据交换而建立的规则、标准或约定，这些规则明确对顶了所交换的数据格式以及有关的同步问题。

2、网络协议的组成。
语法，数据与控制信息的结构或格式。
语义，需要发出何种信息，完成何种动作以及做出何种响应。
同步，事件实现顺序的详细说明。

3、分层好处。
各层之间独立，灵活性好，结构上可分隔开，易于实现和维护，能促进标准化工作。

4、各层功能。
差错控制，流量控制，分段和重装，复用和分用，连接建立和释放。

5、网络的体系结构（architecture）是计算机网络各层及其协议的集合。

###1.7.3具有五层协议的体系结构

1、OSI的七层协议，TCP/IP的四层协议，学习时用的五层协议。TCP/IP协议族（protocol suite）。协议栈（protocol stack）。

2、应用层（application layer）是体系结构的最高层，直接为用户的应用进程提供服务，例如，支持万维网应用的http协议，支持电子邮件的SMTP协议，支持文件传送的FTP协议。

3、运输层（transport layer）负责向两个主机中进程之间的通信提供服务，由于一个主机可以同时运行多个进程，因此运输层有复用和分用功能。例如，传输控制协议TCP（transmission control protocol），面向连接的，数据传输的单位是报文段（segment），能够提供可靠的交付；用户数据报协议UDP（user datagram protocol），无连接的，数据传输的单位是用户数据报，不保证提供可靠的交付，只能提供尽最大努力交付（best-effort delivery）。

4、网络层/网际层/IP层（network layer）负责为分组交换网上的不同主机提供通信服务，并且选择适合的路由，使源主机运输层传下来的分组能够通过网络中的路由器找到目的主机。在发送数据时，网络层把运输船产生的报文段或用户数据报封装成分组/包进行传送。在TCP/IP体系中，由于网络层使用IP协议，因此分组也叫IP数据报/数据报。

5、数据链路层（data link layer），在两个相邻结点之间传送数据时，数据链路层将网络层交下来的IP数据报组装成帧（farming），在两个相邻结点间的链路上传送帧（frame）中的数据，每一帧包括数据和必要的控制信息例如同步信息、地址信息、差错控制等。如果接收端通过控制信息检测到所收到的帧中有差错，以免继续传送浪费网络资源，数据链路层会丢弃此帧，如果需要改正错误就由运输层的TCP协议来完成。

6、物理层（physical layer）上所传输数据的单位是比特。

7、协议数据单元PDU（protocol data unit）是对等层次之间传递的数据单位。

###1.7.4实体、协议、服务和服务访问点

略

###1.7.5TCP/IP的体系结构

1、路由器在转发分组时最高只用到网络层而没有用到运输层和应用层。

2、TCP/IP协议可以为各式各样的应用提供服务（everything over IP），同事TCP/IP协议也允许IP协议在各式各样的网络构成的互联网上运行（IP over everything）。

